<script>
  $(document).ready(function() {
    if ($("#student_house").val() == 5){
      jQuery('#student_house_desc_div').attr('style','visibility:visible; !important');
    }

    if ($("#student_special_need").is(':checked')){
      jQuery('#student_special_need_desc_div').attr('style','visibility:visible; !important');
    }

    if ($("#student_religion").val() == 7){
      jQuery('#student_religion_desc_div').attr('style','visibility:visible; !important');
    }
  });
</script>

<%= form_for(@student) do |f| %>
  <% if @student.errors.any? %>
    <div id="error_explanation">
      <ul>
      <% @student.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= f.label :educator, t('student.educator') %><br />
    <%= f.select :educator, @educators %>
  </div>
  <div>
    <%= f.label :core, t('student.core') %><br />
    <%= f.select :core, @cores %>
  </div>
  <div>
    <%= f.label :room, t('student.room') %><br />
    <%= f.select :room, @rooms %>
  </div>
  <div>
    <%= f.label :sign_up_date_on, t('student.sign_up_date_on') %><br />
    <%= f.date_select :sign_up_date_on %>
  </div>
  <div>
    <%= f.label :class_start_date_on, t('student.class_start_date_on') %><br />
    <%= f.date_select :class_start_date_on %>
  </div>
  <div>
    <%= f.label :name, t('student.name') %><br />
    <%= f.text_field :name %>
  </div>
  <div>
    <%= f.label :age, t('student.age.title') %><br />
    <%= f.select :age, @ages %>
  </div>
  <div>
    <%= f.label :gender, t('student.gender') %><br />
    <%= f.select :gender, @genders %>
  </div>
  <div>
    <%= f.label :dob, t('student.dob') %><br />
    <%= f.date_select :dob %>
  </div>
  <div>
    <%= f.label :ethnicity, t('student.ethnicity') %><br />
    <%= f.select :ethnicity, @ethnicities %>
  </div>
  <div>
    <%= f.label :hometown, t('student.hometown') %><br />
    <%= f.text_field :hometown %>
  </div>
  <div>
    <%= f.label :state, t('student.state') %><br />
    <%= f.text_field :state %>
  </div>
  <div>
    <%= f.label :zone, t('student.zone') %><br />
    <%= f.select :zone, @zones %>
  </div>
  <div>
    <%= f.label :address, t('student.address') %><br />
    <%= f.text_field :address, :size => 100 %>
  </div>

  <div>
	<% phone_number = 0 %>
    <%= t('student.phones') %><br />
    <% f.fields_for :phones do |builder| %>
      <%= render "phone_fields", :f => builder, :number => phone_number %>
	  	<% phone_number += 1 %>
    <% end %>
  </div>

  <div>
    <%= f.label :civil_status, t('student.civil_status') %><br />
    <%= f.select :civil_status, @civil_status %>
  </div>
  <div>
    <%= f.label :education_level, t('student.education_level.title') %><br />
    <%= f.select :education_level, @education_levels %>
  </div>
  <div>
    <%= f.label :actual_condition, t('student.actual_condition.title') %><br />
    <%= f.select :actual_condition, @actual_conditions %>
  </div>
  <div>
    <%= f.label :profession, t('student.profession.title') %><br />
    <%= f.text_field :profession %>
  </div>
  <div>
    <%= f.label :actual_occupation, t('student.profession.actual')  %><br />
    <%= f.text_field :actual_occupation %>
  </div>
  <div>
    <%= f.label :worker_situation, t('student.profession.situation')  %><br />
    <%= f.select :worker_situation, @worker_situations %>
  </div>
  <div>
    <%= f.label :worker_situation_type, t('student.profession.type')  %><br />
    <%= f.select :worker_situation_type, @worker_situation_types %>
  </div>
  <div>
    <%= f.label :house, t('student.house')  %><br />
    <div class= "field_with_complement_info"><%= f.select :house, @houses %></div>
  </div>

  <script>
    $(document).ready(function() {
        $("#student_house").change(function() {
            var value = $(this).val();
            if (value == 5){
              jQuery('#student_house_desc_div').attr('style','visibility:visible; !important');
              jQuery('#student_house_desc').focus();
            }
            else{
              jQuery('#student_house_desc_div').attr('style','visibility:hidden; !important');
            }
        });
    });
  </script>

  <div class="invisible" id="student_house_desc_div">
    <%= t('which')  %>
    <%= f.text_field :house_desc %>
  </div>

  <div>
    <%= f.label :special_need, t('student.special_need')  %><br />
    <div class= "field_with_complement_info">
			<%= f.check_box :special_need %>
			<%= t('yyes') %>
		</div>
  </div>

  <script>
    $(document).ready(function() {
        $("#student_special_need").change(function() {
            if ($("#student_special_need").is(':checked')){
              jQuery('#student_special_need_desc_div').attr('style','visibility:visible; !important');
              jQuery('#student_special_need_desc').focus();
            }
            else{
              jQuery('#student_special_need_desc_div').attr('style','visibility:hidden; !important');
            }
        });
    });
  </script>

  <div class="invisible" id="student_special_need_desc_div">
    <%= t('which')  %>
    <%= f.text_field :special_need_desc %>
  </div>
	<br />
  <div>
    <%= f.label :religion, t('student.religion')  %><br />
    <div class= "field_with_complement_info"><%= f.select :religion, @religions %></div>
  </div>

  <script>
    $(document).ready(function() {
        $("#student_religion").change(function() {
            var value = $(this).val();
            if (value == 7){
              jQuery('#student_religion_desc_div').attr('style','visibility:visible; !important');
              jQuery('#student_religion_desc').focus();
            }
            else{
              jQuery('#student_religion_desc_div').attr('style','visibility:hidden; !important');
            }
        });
    });
  </script>

  <div class="invisible" id="student_religion_desc_div">
    <%= t('which')  %>
    <%= f.text_field :religion_desc %>
  </div>  

  <div>
    <%= f.label :observations, t('student.observations')  %><br />
    <%= f.text_area :observations %>
  </div>

  <div class="actions">
    <%= f.submit button%>
  </div>
<% end %>
