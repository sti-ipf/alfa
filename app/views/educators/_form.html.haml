:javascript
  $(document).ready(function() {
    if ($("#educator_association").val() == 4){
      jQuery('#educator_association_desc_div').attr('style','visibility:visible; !important');
    }

    if ($("#educator_social_participations_attributes_0_union_movement").is(':checked')){
      jQuery('#union_movement_desc_div').attr('style','visibility:visible; !important');
    }

    if ($("#educator_social_participations_attributes_0_ong").is(':checked')){
      jQuery('#ong_desc_div').attr('style','visibility:visible; !important');
    }

    if ($("#educator_house").val() == 5){
      jQuery('#educator_house_desc_div').attr('style','visibility:visible; !important');
    }

    if ($("#educator_education_level").val() > 1){
      jQuery('#educator_education_level_desc_div').attr('style','visibility:visible; !important');
    }

    if ($("#educator_religion").val() == 7){
      jQuery('#educator_religion_desc_div').attr('style','visibility:visible; !important');
    }

  });
= semantic_form_for(@educator, :html => {:id => 'formframe'}) do |f|
  - if @educator.errors.any?
    #error_explanation
      %ul
        - @educator.errors.full_messages.each do |msg|
          %li= msg
  %div
    = f.label :name, t('educator.name')
    %br
    = f.text_field :name
  %div
    = t('educator.room')
    %br
    - @rooms.each do |r|
      = check_box_tag 'educator[room_ids][]', r.id, @educator.rooms.include?(r)
      = r.name
  %div
    = f.label :start_date_to_students, t('educator.start_date_to_students')
    %br
    = f.date_select :start_date_to_students, {:start_year => 1900}
  %div
    = f.label :core_id, t('educator.core')
    %br
    = f.select :core_id, @cores
  %div
    = f.label :gender, t('educator.gender')
    %br
    = f.select :gender, @genders
  %div
    = f.label :dob, t('educator.dob')
    %br
    = f.date_select :dob, {:start_year => 1900, :end_year => DateTime.now.year}
  %div
    = f.label :ethnicity, t('educator.ethnicity')
    %br
    = f.select :ethnicity, @ethnicities
  %div
    = f.label :hometown, t('educator.hometown')
    %br
    = f.text_field :hometown
  %div
    = f.label :state, t('educator.state')
    %br
    = f.text_field :state
  %div
    = f.label :zone, t('educator.zone')
    %br
    = f.select :zone, @zones
  %div
    = f.label :address, t('educator.address')
    %br
    = f.text_field :address, :size => 100
  %div
    - phone_number = 0
    = t('core.phones_field')
    %br
    - f.fields_for :phones do |builder|
      = render "phone_fields", :f => builder, :number => phone_number
      - phone_number += 1
  %div
    = f.label :civil_status, t('educator.civil_status')
    %br
    = f.select :civil_status, @civil_status
  %b= t('educator.personal_doc')
  %div
    = f.label :rg, t('educator.rg')
    %br
    = f.text_field :rg
  %div
    = f.label :cpf, t('educator.cpf')
    %br
    = f.text_field :cpf
  %div
    = f.label :voter_id, t('educator.voter_id')
    %br
    = f.text_field :voter_id
  %div
    = f.label :professional_id, t('educator.professional_id')
    %br
    = f.text_field :professional_id
    = f.label :professional_serie, t('educator.professional_serie')
    = f.text_field :professional_serie
  %div
    = f.label :birth_or_marriage_certificate_id, t('educator.birth_or_marriage_certificate_id')
    %br
    = f.text_field :birth_or_marriage_certificate_id
  %div
    = f.label :social_id, t('educator.social_id')
    %br
    = f.text_field :social_id
  %div
    = f.label :sons_number, t('educator.sons_number.title')
    %br
    = f.select :sons_number, @sons_number
  %div
    %b
      = t('educator.age_of_sons')
    1ยบ
    \#{f.text_field :first_son_age, :size => 3}
    2ยบ
    \#{f.text_field :second_son_age, :size => 3}
    3ยบ
    \#{f.text_field :third_son_age, :size => 3}
    4ยบ
    \#{f.text_field :forth_son_age, :size => 3}
  %div
    %b= t('educator.occupation')
    %br
    = t('professional_exp.title')
    %br
    = render "professional_exp_fields"
  %div
    %b= t('education_exp.title')
    %br
    = t('education_exp.learning_network')
    %br
    = render "education_exp_fields"
  %div
    = f.label :education_level, t('educator.education_level')
    %br
    .field_with_complement_info
      = f.select :education_level, @education_levels
      :javascript
        $(document).ready(function() {
            $("#educator_education_level").change(function() {
                var value = $(this).val();
                if (value > 1){
                  jQuery('#educator_education_level_desc_div').attr('style','visibility:visible; !important');
                  jQuery('#educator_education_level_desc').focus();
                }
                else{
                  jQuery('#educator_education_level_desc_div').attr('style','visibility:hidden; !important');
                }
            });
        });
    #educator_education_level_desc_div.invisible
      = f.label :education_level_desc, t('which')
      = f.text_field :education_level_desc
  %div
    = f.label :house, t('educator.house.title')
    %br
    .field_with_complement_info
      = f.select :house, @houses
      :javascript
        $(document).ready(function() {
            $("#educator_house").change(function() {
                var value = $(this).val();
                if (value == 5){
                  jQuery('#educator_house_desc_div').attr('style','visibility:visible; !important');
                  jQuery('#educator_house_desc').focus();
                }
                else{
                  jQuery('#educator_house_desc_div').attr('style','visibility:hidden; !important');
                }
            });
        });
    #educator_house_desc_div.invisible
      = f.label :house_desc, t('which')
      = f.text_field :house_desc
  %div
    = f.label :house_type, t('educator.house_type')
    %br
    = f.select :house_type, @house_types
  %div
    = f.input :special_need, :as => :radio, :collection => [[t('yyes'), true], [t('nno'), false]]
  %div
    = t('social_participation.title')
    %br
    - f.fields_for :social_participations do |builder|
      = render "social_participation_fields", :f => builder
  %div
    = f.label :political_affiliation, t('educator.political_affiliation.title')
    %br
    = f.select :political_affiliation, @political_affiliations
  %div
    = f.label :political_party, t('educator.political_party')
    %br
    = f.select :political_party, @political_parties
  %div
    = f.label :religion, t('educator.religion.title')
    %br
    .field_with_complement_info
      = f.select :religion, @religions
      :javascript
        $(document).ready(function() {
            $("#educator_religion").change(function() {
                var value = $(this).val();
                if (value == 7){
                  jQuery('#educator_religion_desc_div').attr('style','visibility:visible; !important');
                  jQuery('#educator_religion_desc').focus();
                }
                else{
                  jQuery('#educator_religion_desc_div').attr('style','visibility:hidden; !important');
                }
            });
        });
    #educator_religion_desc_div.invisible
      = t('which')
      = f.text_field :religion_desc
  %div
    = f.label :association, t('educator.association.title')
    %br
    .field_with_complement_info
      = f.select :association, @associations
      :javascript
        $(document).ready(function() {
            $("#educator_association").change(function() {
                var value = $(this).val();
                if (value == 4){
                  jQuery('#educator_association_desc_div').attr('style','visibility:visible; !important');
                  jQuery('#educator_association_desc').focus();
                }
                else{
                  jQuery('#educator_association_desc_div').attr('style','visibility:hidden; !important');
                }
            });
        });
    #educator_association_desc_div.invisible
      = f.label :association_desc, t('which')
      = f.text_field :association_desc
  %div
    = f.label :cooperative, t('educator.cooperative.title')
    %br
    = f.select :cooperative, @cooperatives
  .actions
    = f.submit button
